<div class="top-div">
  <!--Fil d'ariane-->
  <app-breadcrumb></app-breadcrumb>

  <div class="d-flex flex-column col-12 col-sm-10 col-md-6 col-lg-5 align-self-center">
    <!--Recherche-->
    <div class="d-flex">
      <div class="col">
        <input type="search" id="form1" class="form-control" #search placeholder="Rechercher ..." />
      </div>
      <button type="button" class="btn btn-primary" (click)="startSearching(search)">
        <i class="bi bi-search"></i>
      </button>
    </div>


    <!--Liste des tags-->
    <div class="d-flex flex-wrap justify-content-center">
      <div class="sub-div-tag" *ngFor="let tag of tags">
        <input id="tagCheckBox" type="checkbox" #currentTag [checked]="shouldBeChecked(tag.name, tag.id, currentTag)" value="{{ tag.id }}" (change)="toggleTag($event, tag.name)" />
        <label for="tagCheckBox">
          {{ tag.name }}
        </label>
      </div>
    </div>
  </div>
</div>

<div class="bottom-div">
  <h2>Articles récemment publiés</h2>
  <div class="d-flex flex-wrap col col-md-12 col-lg-10">
    <div class="p-sm-2 col-12 col-sm-6 col-md-6 col-lg-4" *ngFor="let article of articles">
      <div class="card col" [routerLink]="['/articles/article', article.slug]">
        <div class="position-relative">
          <img class="card-img-top" [src]="article.thumbnail" />
          <div class="position-absolute bottom-0 end-0">
            <div class="btn btn-primary disabledBtn tagMargin" *ngFor="let tag of article.tags">{{tag.name}}</div>
          </div>
        </div>
        <div class="card-body">
          <h5 class="card-title">{{article.title}}</h5>
          <p class="card-text">{{article.description}}<span class="fw-bold"> plus</span></p>
          <hr />
          <p class="card-text" *ngIf="article.updatedDate != null">{{article.updatedDate | date:'d MMMM y'}}</p>
          <p class="card-text" *ngIf="article.updatedDate == null">{{article.createdDate | date:'d MMMM y'}}</p>
        </div>
      </div>
    </div>
  </div>

</div>
<app-pagination [adminPagination]="viewerPagination" (currentPageChange)="currentPageChange($event)"></app-pagination>
